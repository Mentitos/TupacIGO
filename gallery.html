<!doctype html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Galería completa - TupacIGO</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="site-header">
        <div class="container">
            <nav class="navbar">
                <a href="index.html" class="logo">← Volver</a>
            </nav>
        </div>
    </header>

    <main>
        <section class="full-gallery">
            <div class="container">
                <div class="full-gallery-header">
                    <h1 id="gallery-title">Galería completa</h1>
                    <p class="muted" id="gallery-description">Todas las fotos del evento</p>
                </div>
                <div class="full-gallery-grid">
                    <!-- Las imágenes se cargarán dinámicamente -->
                </div>
            </div>
        </section>

        <div id="gallery-modal" class="gallery-modal" aria-hidden="true">
            <div class="gallery-backdrop"></div>
            <div class="gallery-content" role="dialog" aria-modal="true">
                <button class="gallery-close" aria-label="Cerrar galería">&times;</button>
                <div class="gallery-images" tabindex="0"></div>
                <button class="gallery-prev" aria-label="Anterior">‹</button>
                <button class="gallery-next" aria-label="Siguiente">›</button>
            </div>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            fetch('_data/contenido.json')
                .then(response => response.json())
                .then(data => {
                    const urlParams = new URLSearchParams(window.location.search);
                    const eventName = urlParams.get('event') || data.gallery.events[0].name;
                    
                    const event = data.gallery.events.find(e => e.name === eventName);

                    if (event) {
                        document.getElementById('gallery-title').textContent = event.name;
                        document.getElementById('gallery-description').textContent = `Todas las fotos de ${event.name}`;
                        const galleryGrid = document.querySelector('.full-gallery-grid');
                        galleryGrid.innerHTML = '';
                        event.images.forEach(imageSrc => {
                            const item = document.createElement('a');
                            item.className = 'full-gallery-item';
                            item.href = '#';
                            item.innerHTML = `<img loading="lazy" src="${imageSrc}" alt="${event.name}">`;
                            galleryGrid.appendChild(item);
                        });
                    }
                })
                .catch(error => console.error('Error loading gallery data:', error));
        });
    </script>
    <script src="script.js"></script>
</body>
</html>